"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/auth/[...nextauth]";
exports.ids = ["pages/api/auth/[...nextauth]"];
exports.modules = {

/***/ "bcryptjs":
/*!***************************!*\
  !*** external "bcryptjs" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("bcryptjs");

/***/ }),

/***/ "mysql2/promise":
/*!*********************************!*\
  !*** external "mysql2/promise" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("mysql2/promise");

/***/ }),

/***/ "next-auth":
/*!****************************!*\
  !*** external "next-auth" ***!
  \****************************/
/***/ ((module) => {

module.exports = require("next-auth");

/***/ }),

/***/ "next-auth/providers/credentials":
/*!**************************************************!*\
  !*** external "next-auth/providers/credentials" ***!
  \**************************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/credentials");

/***/ }),

/***/ "next-auth/providers/google":
/*!*********************************************!*\
  !*** external "next-auth/providers/google" ***!
  \*********************************************/
/***/ ((module) => {

module.exports = require("next-auth/providers/google");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!":
/*!******************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D! ***!
  \******************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\auth\\[...nextauth].ts */ \"(api)/./pages/api/auth/[...nextauth].ts\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/auth/[...nextauth]\",\n        pathname: \"/api/auth/[...nextauth]\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_auth_nextauth_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmF1dGglMkYlNUIuLi5uZXh0YXV0aCU1RCZwcmVmZXJyZWRSZWdpb249JmFic29sdXRlUGFnZVBhdGg9LiUyRnBhZ2VzJTVDYXBpJTVDYXV0aCU1QyU1Qi4uLm5leHRhdXRoJTVELnRzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQ2lFO0FBQ2pFO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyx3REFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsd0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vam9ybmFsazEvPzMyNTMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxhdXRoXFxcXFsuLi5uZXh0YXV0aF0udHNcIjtcbi8vIFJlLWV4cG9ydCB0aGUgaGFuZGxlciAoc2hvdWxkIGJlIHRoZSBkZWZhdWx0IGV4cG9ydCkuXG5leHBvcnQgZGVmYXVsdCBob2lzdCh1c2VybGFuZCwgXCJkZWZhdWx0XCIpO1xuLy8gUmUtZXhwb3J0IGNvbmZpZy5cbmV4cG9ydCBjb25zdCBjb25maWcgPSBob2lzdCh1c2VybGFuZCwgXCJjb25maWdcIik7XG4vLyBDcmVhdGUgYW5kIGV4cG9ydCB0aGUgcm91dGUgbW9kdWxlIHRoYXQgd2lsbCBiZSBjb25zdW1lZC5cbmV4cG9ydCBjb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBQYWdlc0FQSVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5QQUdFU19BUEksXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgcGF0aG5hbWU6IFwiL2FwaS9hdXRoL1suLi5uZXh0YXV0aF1cIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./pages/api/auth/[...nextauth].ts":
/*!*****************************************!*\
  !*** ./pages/api/auth/[...nextauth].ts ***!
  \*****************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next-auth */ \"next-auth\");\n/* harmony import */ var next_auth__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_auth__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next-auth/providers/credentials */ \"next-auth/providers/credentials\");\n/* harmony import */ var next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next-auth/providers/google */ \"next-auth/providers/google\");\n/* harmony import */ var next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _utils_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../utils/db */ \"(api)/./utils/db.ts\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! bcryptjs */ \"bcryptjs\");\n/* harmony import */ var bcryptjs__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(bcryptjs__WEBPACK_IMPORTED_MODULE_4__);\n\n\n\n\n\n// Certifique-se de definir as variáveis de ambiente:\n// GOOGLE_CLIENT_ID=...\n// GOOGLE_CLIENT_SECRET=...\n// NEXTAUTH_SECRET=...\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (next_auth__WEBPACK_IMPORTED_MODULE_0___default()({\n    providers: [\n        next_auth_providers_google__WEBPACK_IMPORTED_MODULE_2___default()({\n            clientId: process.env.GOOGLE_CLIENT_ID || \"\",\n            clientSecret: process.env.GOOGLE_CLIENT_SECRET || \"\"\n        }),\n        next_auth_providers_credentials__WEBPACK_IMPORTED_MODULE_1___default()({\n            name: \"Credentials\",\n            credentials: {\n                email: {\n                    label: \"Email\",\n                    type: \"email\"\n                },\n                password: {\n                    label: \"Senha\",\n                    type: \"password\"\n                }\n            },\n            async authorize (credentials) {\n                try {\n                    if (!credentials?.email || !credentials?.password) {\n                        return null;\n                    }\n                    // Consulta real ao banco de dados\n                    const query = \"SELECT id, name, email, password, role FROM users WHERE email = ?\";\n                    const users = await (0,_utils_db__WEBPACK_IMPORTED_MODULE_3__.executeQuery)(query, [\n                        credentials.email\n                    ]);\n                    if (users.length === 0) {\n                        // Permitir admin de teste\n                        if (credentials.email === \"admin@jornalk1.com.br\" && credentials.password === \"admin123\") {\n                            return {\n                                id: \"1\",\n                                name: \"Admin\",\n                                email: \"admin@jornalk1.com.br\",\n                                role: \"admin\"\n                            };\n                        }\n                        return null;\n                    }\n                    const user = users[0];\n                    // Usuário sem senha (login social)\n                    if (!user.password) return null;\n                    const isPasswordValid = await bcryptjs__WEBPACK_IMPORTED_MODULE_4___default().compare(credentials.password, user.password);\n                    if (!isPasswordValid) return null;\n                    return {\n                        id: user.id.toString(),\n                        name: user.name,\n                        email: user.email,\n                        role: user.role\n                    };\n                } catch (error) {\n                    console.error(\"Auth error:\", error);\n                    return null;\n                }\n            }\n        })\n    ],\n    session: {\n        strategy: \"jwt\",\n        maxAge: 30 * 24 * 60 * 60\n    },\n    callbacks: {\n        async signIn ({ user, account, profile }) {\n            // Google login: criar usuário se não existir\n            if (account?.provider === \"google\" && user?.email) {\n                const users = await (0,_utils_db__WEBPACK_IMPORTED_MODULE_3__.executeQuery)(\"SELECT * FROM users WHERE email = ?\", [\n                    user.email\n                ]);\n                if (users.length === 0) {\n                    // Cria usuário Google\n                    await (0,_utils_db__WEBPACK_IMPORTED_MODULE_3__.executeQuery)(\"INSERT INTO users (name, email, provider, role) VALUES (?, ?, ?, ?)\", [\n                        user.name || profile?.name || \"\",\n                        user.email,\n                        \"google\",\n                        \"user\"\n                    ]);\n                }\n            }\n            return true;\n        },\n        async jwt ({ token, user }) {\n            if (user) {\n                token.id = user.id;\n                token.role = user.role;\n            }\n            return token;\n        },\n        async session ({ session, token }) {\n            if (token && session.user) {\n                session.user.id = token.id;\n                session.user.role = token.role;\n            }\n            return session;\n        }\n    },\n    pages: {\n        signIn: \"/admin/login\",\n        error: \"/admin/login\"\n    },\n    secret: process.env.NEXTAUTH_SECRET\n}));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QU9nQjtRQUNUO1FBQ0EsTUFBTVQsU0FBUSxFQUFFQSxPQUFPLEVBQUVTLEtBQUssRUFBZ0M7WUFDNUQsSUFBSUEsU0FBU1QsUUFBUU4sSUFBSSxFQUFFO2dCQUN6Qk0sUUFBUU4sSUFBSSxDQUFDRixFQUFFLEdBQUdpQixNQUFNakIsRUFBRTtnQkFDMUJRLFFBQVFOLElBQUksQ0FBQ0QsSUFBSSxHQUFHZ0IsTUFBTWhCLElBQUk7WUFDaEM7WUFDQSxPQUFPTztRQUNUO0lBQ0Y7SUFDQVUsT0FBTztRQUNMTixRQUFRO1FBQ1JOLE9BQU87SUFDVDtJQUNBYSxRQUFRbEMsUUFBUUMsR0FBRyxDQUFDa0MsZUFBZTtBQUNyQyxFQUFFLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qb3JuYWxrMS8uL3BhZ2VzL2FwaS9hdXRoL1suLi5uZXh0YXV0aF0udHM/MmU4YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgTmV4dEF1dGggZnJvbSAnbmV4dC1hdXRoJztcbmltcG9ydCBDcmVkZW50aWFsc1Byb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvY3JlZGVudGlhbHMnO1xuaW1wb3J0IEdvb2dsZVByb3ZpZGVyIGZyb20gJ25leHQtYXV0aC9wcm92aWRlcnMvZ29vZ2xlJztcbmltcG9ydCB7IGV4ZWN1dGVRdWVyeSB9IGZyb20gJy4uLy4uLy4uL3V0aWxzL2RiJztcbmltcG9ydCBiY3J5cHQgZnJvbSAnYmNyeXB0anMnO1xuXG4vLyBDZXJ0aWZpcXVlLXNlIGRlIGRlZmluaXIgYXMgdmFyacOhdmVpcyBkZSBhbWJpZW50ZTpcbi8vIEdPT0dMRV9DTElFTlRfSUQ9Li4uXG4vLyBHT09HTEVfQ0xJRU5UX1NFQ1JFVD0uLi5cbi8vIE5FWFRBVVRIX1NFQ1JFVD0uLi5cblxuZXhwb3J0IGRlZmF1bHQgTmV4dEF1dGgoe1xuICBwcm92aWRlcnM6IFtcbiAgICBHb29nbGVQcm92aWRlcih7XG4gICAgICBjbGllbnRJZDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9JRCB8fCAnJyxcbiAgICAgIGNsaWVudFNlY3JldDogcHJvY2Vzcy5lbnYuR09PR0xFX0NMSUVOVF9TRUNSRVQgfHwgJycsXG4gICAgfSksXG4gICAgQ3JlZGVudGlhbHNQcm92aWRlcih7XG4gICAgICBuYW1lOiAnQ3JlZGVudGlhbHMnLFxuICAgICAgY3JlZGVudGlhbHM6IHtcbiAgICAgICAgZW1haWw6IHsgbGFiZWw6ICdFbWFpbCcsIHR5cGU6ICdlbWFpbCcgfSxcbiAgICAgICAgcGFzc3dvcmQ6IHsgbGFiZWw6ICdTZW5oYScsIHR5cGU6ICdwYXNzd29yZCcgfVxuICAgICAgfSxcbiAgICAgIGFzeW5jIGF1dGhvcml6ZShjcmVkZW50aWFscykge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmICghY3JlZGVudGlhbHM/LmVtYWlsIHx8ICFjcmVkZW50aWFscz8ucGFzc3dvcmQpIHtcbiAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgIH1cbiAgICAgICAgICAvLyBDb25zdWx0YSByZWFsIGFvIGJhbmNvIGRlIGRhZG9zXG4gICAgICAgICAgY29uc3QgcXVlcnkgPSAnU0VMRUNUIGlkLCBuYW1lLCBlbWFpbCwgcGFzc3dvcmQsIHJvbGUgRlJPTSB1c2VycyBXSEVSRSBlbWFpbCA9ID8nO1xuICAgICAgICAgIGNvbnN0IHVzZXJzID0gYXdhaXQgZXhlY3V0ZVF1ZXJ5PGFueVtdPihxdWVyeSwgW2NyZWRlbnRpYWxzLmVtYWlsXSk7XG4gICAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgLy8gUGVybWl0aXIgYWRtaW4gZGUgdGVzdGVcbiAgICAgICAgICAgIGlmIChjcmVkZW50aWFscy5lbWFpbCA9PT0gJ2FkbWluQGpvcm5hbGsxLmNvbS5icicgJiYgY3JlZGVudGlhbHMucGFzc3dvcmQgPT09ICdhZG1pbjEyMycpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICAgICAgICBpZDogJzEnLFxuICAgICAgICAgICAgICAgIG5hbWU6ICdBZG1pbicsXG4gICAgICAgICAgICAgICAgZW1haWw6ICdhZG1pbkBqb3JuYWxrMS5jb20uYnInLFxuICAgICAgICAgICAgICAgIHJvbGU6ICdhZG1pbicsXG4gICAgICAgICAgICAgIH07XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29uc3QgdXNlciA9IHVzZXJzWzBdO1xuICAgICAgICAgIC8vIFVzdcOhcmlvIHNlbSBzZW5oYSAobG9naW4gc29jaWFsKVxuICAgICAgICAgIGlmICghdXNlci5wYXNzd29yZCkgcmV0dXJuIG51bGw7XG4gICAgICAgICAgY29uc3QgaXNQYXNzd29yZFZhbGlkID0gYXdhaXQgYmNyeXB0LmNvbXBhcmUoY3JlZGVudGlhbHMucGFzc3dvcmQsIHVzZXIucGFzc3dvcmQpO1xuICAgICAgICAgIGlmICghaXNQYXNzd29yZFZhbGlkKSByZXR1cm4gbnVsbDtcbiAgICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgaWQ6IHVzZXIuaWQudG9TdHJpbmcoKSxcbiAgICAgICAgICAgIG5hbWU6IHVzZXIubmFtZSxcbiAgICAgICAgICAgIGVtYWlsOiB1c2VyLmVtYWlsLFxuICAgICAgICAgICAgcm9sZTogdXNlci5yb2xlLFxuICAgICAgICAgIH07XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignQXV0aCBlcnJvcjonLCBlcnJvcik7XG4gICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KVxuICBdLFxuICBzZXNzaW9uOiB7XG4gICAgc3RyYXRlZ3k6ICdqd3QnLFxuICAgIG1heEFnZTogMzAgKiAyNCAqIDYwICogNjAsIC8vIDMwIGRheXNcbiAgfSxcbiAgY2FsbGJhY2tzOiB7XG4gICAgYXN5bmMgc2lnbkluKHsgdXNlciwgYWNjb3VudCwgcHJvZmlsZSB9KSB7XG4gICAgICAvLyBHb29nbGUgbG9naW46IGNyaWFyIHVzdcOhcmlvIHNlIG7Do28gZXhpc3RpclxuICAgICAgaWYgKGFjY291bnQ/LnByb3ZpZGVyID09PSAnZ29vZ2xlJyAmJiB1c2VyPy5lbWFpbCkge1xuICAgICAgICBjb25zdCB1c2VycyA9IGF3YWl0IGV4ZWN1dGVRdWVyeTxhbnlbXT4oXG4gICAgICAgICAgJ1NFTEVDVCAqIEZST00gdXNlcnMgV0hFUkUgZW1haWwgPSA/JyxcbiAgICAgICAgICBbdXNlci5lbWFpbF1cbiAgICAgICAgKTtcbiAgICAgICAgaWYgKHVzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgIC8vIENyaWEgdXN1w6FyaW8gR29vZ2xlXG4gICAgICAgICAgYXdhaXQgZXhlY3V0ZVF1ZXJ5PGFueT4oXG4gICAgICAgICAgICAnSU5TRVJUIElOVE8gdXNlcnMgKG5hbWUsIGVtYWlsLCBwcm92aWRlciwgcm9sZSkgVkFMVUVTICg/LCA/LCA/LCA/KScsXG4gICAgICAgICAgICBbdXNlci5uYW1lIHx8IHByb2ZpbGU/Lm5hbWUgfHwgJycsIHVzZXIuZW1haWwsICdnb29nbGUnLCAndXNlciddXG4gICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSxcbiAgICBhc3luYyBqd3QoeyB0b2tlbiwgdXNlciB9OiB7IHRva2VuOiBhbnk7IHVzZXI6IGFueSB9KSB7XG4gICAgICBpZiAodXNlcikge1xuICAgICAgICB0b2tlbi5pZCA9IHVzZXIuaWQ7XG4gICAgICAgIHRva2VuLnJvbGUgPSB1c2VyLnJvbGU7XG4gICAgICB9XG4gICAgICByZXR1cm4gdG9rZW47XG4gICAgfSxcbiAgICBhc3luYyBzZXNzaW9uKHsgc2Vzc2lvbiwgdG9rZW4gfTogeyBzZXNzaW9uOiBhbnk7IHRva2VuOiBhbnkgfSkge1xuICAgICAgaWYgKHRva2VuICYmIHNlc3Npb24udXNlcikge1xuICAgICAgICBzZXNzaW9uLnVzZXIuaWQgPSB0b2tlbi5pZCBhcyBzdHJpbmc7XG4gICAgICAgIHNlc3Npb24udXNlci5yb2xlID0gdG9rZW4ucm9sZSBhcyBzdHJpbmc7XG4gICAgICB9XG4gICAgICByZXR1cm4gc2Vzc2lvbjtcbiAgICB9LFxuICB9LFxuICBwYWdlczoge1xuICAgIHNpZ25JbjogJy9hZG1pbi9sb2dpbicsXG4gICAgZXJyb3I6ICcvYWRtaW4vbG9naW4nLFxuICB9LFxuICBzZWNyZXQ6IHByb2Nlc3MuZW52Lk5FWFRBVVRIX1NFQ1JFVCxcbn0pO1xuIl0sIm5hbWVzIjpbIk5leHRBdXRoIiwiQ3JlZGVudGlhbHNQcm92aWRlciIsIkdvb2dsZVByb3ZpZGVyIiwiZXhlY3V0ZVF1ZXJ5IiwiYmNyeXB0IiwicHJvdmlkZXJzIiwiY2xpZW50SWQiLCJwcm9jZXNzIiwiZW52IiwiR09PR0xFX0NMSUVOVF9JRCIsImNsaWVudFNlY3JldCIsIkdPT0dMRV9DTElFTlRfU0VDUkVUIiwibmFtZSIsImNyZWRlbnRpYWxzIiwiZW1haWwiLCJsYWJlbCIsInR5cGUiLCJwYXNzd29yZCIsImF1dGhvcml6ZSIsInF1ZXJ5IiwidXNlcnMiLCJsZW5ndGgiLCJpZCIsInJvbGUiLCJ1c2VyIiwiaXNQYXNzd29yZFZhbGlkIiwiY29tcGFyZSIsInRvU3RyaW5nIiwiZXJyb3IiLCJjb25zb2xlIiwic2Vzc2lvbiIsInN0cmF0ZWd5IiwibWF4QWdlIiwiY2FsbGJhY2tzIiwic2lnbkluIiwiYWNjb3VudCIsInByb2ZpbGUiLCJwcm92aWRlciIsImp3dCIsInRva2VuIiwicGFnZXMiLCJzZWNyZXQiLCJORVhUQVVUSF9TRUNSRVQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/auth/[...nextauth].ts\n");

/***/ }),

/***/ "(api)/./utils/db.ts":
/*!*********************!*\
  !*** ./utils/db.ts ***!
  \*********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   createNews: () => (/* binding */ createNews),\n/* harmony export */   deleteNews: () => (/* binding */ deleteNews),\n/* harmony export */   executeQuery: () => (/* binding */ executeQuery),\n/* harmony export */   getAllCategories: () => (/* binding */ getAllCategories),\n/* harmony export */   getAllNews: () => (/* binding */ getAllNews),\n/* harmony export */   getFeaturedNews: () => (/* binding */ getFeaturedNews),\n/* harmony export */   getNewsBySlug: () => (/* binding */ getNewsBySlug),\n/* harmony export */   updateNews: () => (/* binding */ updateNews)\n/* harmony export */ });\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mysql2/promise */ \"mysql2/promise\");\n/* harmony import */ var mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mysql2_promise__WEBPACK_IMPORTED_MODULE_0__);\n\n// Database connection configuration\nconst dbConfig = {\n    host: process.env.DB_HOST || \"localhost\",\n    user: process.env.DB_USER || \"root\",\n    password: process.env.DB_PASSWORD || \"\",\n    database: process.env.DB_NAME || \"jornalk1\"\n};\n// Create a connection pool\nconst pool = mysql2_promise__WEBPACK_IMPORTED_MODULE_0___default().createPool(dbConfig);\nasync function executeQuery(query, params = []) {\n    try {\n        const [results] = await pool.execute(query, params);\n        return results;\n    } catch (error) {\n        console.error(\"Database query error:\", error);\n        throw error;\n    }\n}\n// Helper function to get a single news article by slug\nasync function getNewsBySlug(slug) {\n    const query = `\n    SELECT n.*, c.name as category_name \n    FROM news n\n    JOIN categories c ON n.category_id = c.id\n    WHERE n.slug = ? AND n.status = 'published'\n  `;\n    const results = await executeQuery(query, [\n        slug\n    ]);\n    return results.length > 0 ? results[0] : null;\n}\n// Helper function to get all published news articles\nasync function getAllNews(limit = 10, offset = 0, categoryId) {\n    let query = `\n    SELECT n.*, c.name as category_name \n    FROM news n\n    JOIN categories c ON n.category_id = c.id\n    WHERE n.status = 'published'\n  `;\n    const params = [];\n    if (categoryId) {\n        query += \" AND n.category_id = ?\";\n        params.push(categoryId);\n    }\n    query += \" ORDER BY n.created_at DESC LIMIT ? OFFSET ?\";\n    params.push(limit, offset);\n    return executeQuery(query, params);\n}\n// Helper function to get featured news articles\nasync function getFeaturedNews(limit = 5) {\n    const query = `\n    SELECT n.*, c.name as category_name \n    FROM news n\n    JOIN categories c ON n.category_id = c.id\n    WHERE n.status = 'published' AND n.is_featured = 1\n    ORDER BY n.created_at DESC\n    LIMIT ?\n  `;\n    return executeQuery(query, [\n        limit\n    ]);\n}\n// Helper function to get all categories\nasync function getAllCategories() {\n    const query = `\n    SELECT c.*, COUNT(n.id) as news_count\n    FROM categories c\n    LEFT JOIN news n ON c.id = n.category_id AND n.status = 'published'\n    GROUP BY c.id\n    ORDER BY c.name\n  `;\n    return executeQuery(query, []);\n}\nasync function createNews(newsData) {\n    const query = `\n    INSERT INTO news (\n      title, slug, content, excerpt, image_url, \n      category_id, author_id, status, is_featured, \n      created_at, updated_at\n    ) VALUES (?, ?, ?, ?, ?, ?, ?, ?, ?, NOW(), NOW())\n  `;\n    const params = [\n        newsData.title,\n        newsData.slug,\n        newsData.content,\n        newsData.excerpt,\n        newsData.imageUrl,\n        newsData.categoryId,\n        newsData.authorId,\n        newsData.status,\n        newsData.isFeatured ? 1 : 0\n    ];\n    const result = await executeQuery(query, params);\n    return result.insertId;\n}\n// Helper function to update an existing news article\nasync function updateNews(id, newsData) {\n    const query = `\n    UPDATE news SET\n      title = ?,\n      slug = ?,\n      content = ?,\n      excerpt = ?,\n      image_url = ?,\n      category_id = ?,\n      status = ?,\n      is_featured = ?,\n      updated_at = NOW()\n    WHERE id = ?\n  `;\n    const params = [\n        newsData.title,\n        newsData.slug,\n        newsData.content,\n        newsData.excerpt,\n        newsData.imageUrl,\n        newsData.categoryId,\n        newsData.status,\n        newsData.isFeatured ? 1 : 0,\n        id\n    ];\n    return executeQuery(query, params);\n}\n// Helper function to delete a news article\nasync function deleteNews(id) {\n    const query = \"DELETE FROM news WHERE id = ?\";\n    return executeQuery(query, [\n        id\n    ]);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUFVO0lBQ3pDLE1BQU01QixRQUFRO0lBS2QsT0FBT0QsYUFBMkJDLE9BQU87UUFBQzRCO0tBQUc7QUFDL0MiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9qb3JuYWxrMS8uL3V0aWxzL2RiLnRzP2NkN2IiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG15c3FsIGZyb20gJ215c3FsMi9wcm9taXNlJztcblxuLy8gRGF0YWJhc2UgY29ubmVjdGlvbiBjb25maWd1cmF0aW9uXG5jb25zdCBkYkNvbmZpZyA9IHtcbiAgaG9zdDogcHJvY2Vzcy5lbnYuREJfSE9TVCB8fCAnbG9jYWxob3N0JyxcbiAgdXNlcjogcHJvY2Vzcy5lbnYuREJfVVNFUiB8fCAncm9vdCcsXG4gIHBhc3N3b3JkOiBwcm9jZXNzLmVudi5EQl9QQVNTV09SRCB8fCAnJyxcbiAgZGF0YWJhc2U6IHByb2Nlc3MuZW52LkRCX05BTUUgfHwgJ2pvcm5hbGsxJyxcbn07XG5cbi8vIENyZWF0ZSBhIGNvbm5lY3Rpb24gcG9vbFxuY29uc3QgcG9vbCA9IG15c3FsLmNyZWF0ZVBvb2woZGJDb25maWcpO1xuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZXhlY3V0ZSBTUUwgcXVlcmllc1xudHlwZSBRdWVyeVBhcmFtcyA9IHN0cmluZyB8IG51bWJlciB8IGJvb2xlYW4gfCBudWxsIHwgQnVmZmVyO1xuXG5pbnRlcmZhY2UgTmV3c0FydGljbGUge1xuICBpZDogbnVtYmVyO1xuICB0aXRsZTogc3RyaW5nO1xuICBzbHVnOiBzdHJpbmc7XG4gIGNvbnRlbnQ6IHN0cmluZztcbiAgZXhjZXJwdDogc3RyaW5nO1xuICBpbWFnZV91cmw6IHN0cmluZztcbiAgY2F0ZWdvcnlfaWQ6IG51bWJlcjtcbiAgY2F0ZWdvcnlfbmFtZTogc3RyaW5nO1xuICBhdXRob3JfaWQ6IG51bWJlcjtcbiAgc3RhdHVzOiBzdHJpbmc7XG4gIGlzX2ZlYXR1cmVkOiBudW1iZXI7XG4gIGNyZWF0ZWRfYXQ6IHN0cmluZztcbiAgdXBkYXRlZF9hdDogc3RyaW5nO1xufVxuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZXhlY3V0ZVF1ZXJ5PFQ+KHF1ZXJ5OiBzdHJpbmcsIHBhcmFtczogUXVlcnlQYXJhbXNbXSA9IFtdKTogUHJvbWlzZTxUPiB7XG4gIHRyeSB7XG4gICAgY29uc3QgW3Jlc3VsdHNdID0gYXdhaXQgcG9vbC5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpO1xuICAgIHJldHVybiByZXN1bHRzIGFzIFQ7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRGF0YWJhc2UgcXVlcnkgZXJyb3I6JywgZXJyb3IpO1xuICAgIHRocm93IGVycm9yO1xuICB9XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBnZXQgYSBzaW5nbGUgbmV3cyBhcnRpY2xlIGJ5IHNsdWdcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXROZXdzQnlTbHVnKHNsdWc6IHN0cmluZykge1xuICBjb25zdCBxdWVyeSA9IGBcbiAgICBTRUxFQ1Qgbi4qLCBjLm5hbWUgYXMgY2F0ZWdvcnlfbmFtZSBcbiAgICBGUk9NIG5ld3MgblxuICAgIEpPSU4gY2F0ZWdvcmllcyBjIE9OIG4uY2F0ZWdvcnlfaWQgPSBjLmlkXG4gICAgV0hFUkUgbi5zbHVnID0gPyBBTkQgbi5zdGF0dXMgPSAncHVibGlzaGVkJ1xuICBgO1xuICBcbiAgY29uc3QgcmVzdWx0cyA9IGF3YWl0IGV4ZWN1dGVRdWVyeTxOZXdzQXJ0aWNsZVtdPihxdWVyeSwgW3NsdWddKTtcbiAgcmV0dXJuIHJlc3VsdHMubGVuZ3RoID4gMCA/IHJlc3VsdHNbMF0gOiBudWxsO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGFsbCBwdWJsaXNoZWQgbmV3cyBhcnRpY2xlc1xuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEFsbE5ld3MobGltaXQgPSAxMCwgb2Zmc2V0ID0gMCwgY2F0ZWdvcnlJZD86IG51bWJlcikge1xuICBsZXQgcXVlcnkgPSBgXG4gICAgU0VMRUNUIG4uKiwgYy5uYW1lIGFzIGNhdGVnb3J5X25hbWUgXG4gICAgRlJPTSBuZXdzIG5cbiAgICBKT0lOIGNhdGVnb3JpZXMgYyBPTiBuLmNhdGVnb3J5X2lkID0gYy5pZFxuICAgIFdIRVJFIG4uc3RhdHVzID0gJ3B1Ymxpc2hlZCdcbiAgYDtcbiAgXG4gIGNvbnN0IHBhcmFtczogUXVlcnlQYXJhbXNbXSA9IFtdO1xuICBcbiAgaWYgKGNhdGVnb3J5SWQpIHtcbiAgICBxdWVyeSArPSAnIEFORCBuLmNhdGVnb3J5X2lkID0gPyc7XG4gICAgcGFyYW1zLnB1c2goY2F0ZWdvcnlJZCk7XG4gIH1cbiAgXG4gIHF1ZXJ5ICs9ICcgT1JERVIgQlkgbi5jcmVhdGVkX2F0IERFU0MgTElNSVQgPyBPRkZTRVQgPyc7XG4gIHBhcmFtcy5wdXNoKGxpbWl0LCBvZmZzZXQpO1xuICBcbiAgcmV0dXJuIGV4ZWN1dGVRdWVyeTxOZXdzQXJ0aWNsZVtdPihxdWVyeSwgcGFyYW1zKTtcbn1cblxuLy8gSGVscGVyIGZ1bmN0aW9uIHRvIGdldCBmZWF0dXJlZCBuZXdzIGFydGljbGVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0RmVhdHVyZWROZXdzKGxpbWl0ID0gNSkge1xuICBjb25zdCBxdWVyeSA9IGBcbiAgICBTRUxFQ1Qgbi4qLCBjLm5hbWUgYXMgY2F0ZWdvcnlfbmFtZSBcbiAgICBGUk9NIG5ld3MgblxuICAgIEpPSU4gY2F0ZWdvcmllcyBjIE9OIG4uY2F0ZWdvcnlfaWQgPSBjLmlkXG4gICAgV0hFUkUgbi5zdGF0dXMgPSAncHVibGlzaGVkJyBBTkQgbi5pc19mZWF0dXJlZCA9IDFcbiAgICBPUkRFUiBCWSBuLmNyZWF0ZWRfYXQgREVTQ1xuICAgIExJTUlUID9cbiAgYDtcbiAgXG4gIHJldHVybiBleGVjdXRlUXVlcnk8TmV3c0FydGljbGVbXT4ocXVlcnksIFtsaW1pdF0pO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gZ2V0IGFsbCBjYXRlZ29yaWVzXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2V0QWxsQ2F0ZWdvcmllcygpIHtcbiAgY29uc3QgcXVlcnkgPSBgXG4gICAgU0VMRUNUIGMuKiwgQ09VTlQobi5pZCkgYXMgbmV3c19jb3VudFxuICAgIEZST00gY2F0ZWdvcmllcyBjXG4gICAgTEVGVCBKT0lOIG5ld3MgbiBPTiBjLmlkID0gbi5jYXRlZ29yeV9pZCBBTkQgbi5zdGF0dXMgPSAncHVibGlzaGVkJ1xuICAgIEdST1VQIEJZIGMuaWRcbiAgICBPUkRFUiBCWSBjLm5hbWVcbiAgYDtcbiAgXG4gIGludGVyZmFjZSBDYXRlZ29yeSB7XG4gICAgaWQ6IG51bWJlcjtcbiAgICBuYW1lOiBzdHJpbmc7XG4gICAgc2x1Zzogc3RyaW5nO1xuICAgIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gICAgbmV3c19jb3VudDogbnVtYmVyO1xuICB9XG5cbiAgcmV0dXJuIGV4ZWN1dGVRdWVyeTxDYXRlZ29yeVtdPihxdWVyeSwgW10pO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gY3JlYXRlIGEgbmV3IG5ld3MgYXJ0aWNsZVxuaW50ZXJmYWNlIE5ld3NEYXRhIHtcbiAgdGl0bGU6IHN0cmluZztcbiAgc2x1Zzogc3RyaW5nO1xuICBjb250ZW50OiBzdHJpbmc7XG4gIGV4Y2VycHQ6IHN0cmluZztcbiAgaW1hZ2VVcmw6IHN0cmluZztcbiAgY2F0ZWdvcnlJZDogbnVtYmVyO1xuICBhdXRob3JJZDogbnVtYmVyO1xuICBzdGF0dXM6IHN0cmluZztcbiAgaXNGZWF0dXJlZDogYm9vbGVhbjtcbn1cblxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGNyZWF0ZU5ld3MobmV3c0RhdGE6IE5ld3NEYXRhKSB7XG4gIGNvbnN0IHF1ZXJ5ID0gYFxuICAgIElOU0VSVCBJTlRPIG5ld3MgKFxuICAgICAgdGl0bGUsIHNsdWcsIGNvbnRlbnQsIGV4Y2VycHQsIGltYWdlX3VybCwgXG4gICAgICBjYXRlZ29yeV9pZCwgYXV0aG9yX2lkLCBzdGF0dXMsIGlzX2ZlYXR1cmVkLCBcbiAgICAgIGNyZWF0ZWRfYXQsIHVwZGF0ZWRfYXRcbiAgICApIFZBTFVFUyAoPywgPywgPywgPywgPywgPywgPywgPywgPywgTk9XKCksIE5PVygpKVxuICBgO1xuICBcbiAgY29uc3QgcGFyYW1zID0gW1xuICAgIG5ld3NEYXRhLnRpdGxlLFxuICAgIG5ld3NEYXRhLnNsdWcsXG4gICAgbmV3c0RhdGEuY29udGVudCxcbiAgICBuZXdzRGF0YS5leGNlcnB0LFxuICAgIG5ld3NEYXRhLmltYWdlVXJsLFxuICAgIG5ld3NEYXRhLmNhdGVnb3J5SWQsXG4gICAgbmV3c0RhdGEuYXV0aG9ySWQsXG4gICAgbmV3c0RhdGEuc3RhdHVzLFxuICAgIG5ld3NEYXRhLmlzRmVhdHVyZWQgPyAxIDogMFxuICBdO1xuICBcbiAgaW50ZXJmYWNlIEluc2VydFJlc3VsdCB7XG4gICAgaW5zZXJ0SWQ6IG51bWJlcjtcbiAgICBhZmZlY3RlZFJvd3M6IG51bWJlcjtcbiAgfVxuXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IGV4ZWN1dGVRdWVyeTxJbnNlcnRSZXN1bHQ+KHF1ZXJ5LCBwYXJhbXMpO1xuICByZXR1cm4gcmVzdWx0Lmluc2VydElkO1xufVxuXG4vLyBIZWxwZXIgZnVuY3Rpb24gdG8gdXBkYXRlIGFuIGV4aXN0aW5nIG5ld3MgYXJ0aWNsZVxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIHVwZGF0ZU5ld3MoaWQ6IG51bWJlciwgbmV3c0RhdGE6IE5ld3NEYXRhKSB7XG4gIGNvbnN0IHF1ZXJ5ID0gYFxuICAgIFVQREFURSBuZXdzIFNFVFxuICAgICAgdGl0bGUgPSA/LFxuICAgICAgc2x1ZyA9ID8sXG4gICAgICBjb250ZW50ID0gPyxcbiAgICAgIGV4Y2VycHQgPSA/LFxuICAgICAgaW1hZ2VfdXJsID0gPyxcbiAgICAgIGNhdGVnb3J5X2lkID0gPyxcbiAgICAgIHN0YXR1cyA9ID8sXG4gICAgICBpc19mZWF0dXJlZCA9ID8sXG4gICAgICB1cGRhdGVkX2F0ID0gTk9XKClcbiAgICBXSEVSRSBpZCA9ID9cbiAgYDtcbiAgXG4gIGNvbnN0IHBhcmFtcyA9IFtcbiAgICBuZXdzRGF0YS50aXRsZSxcbiAgICBuZXdzRGF0YS5zbHVnLFxuICAgIG5ld3NEYXRhLmNvbnRlbnQsXG4gICAgbmV3c0RhdGEuZXhjZXJwdCxcbiAgICBuZXdzRGF0YS5pbWFnZVVybCxcbiAgICBuZXdzRGF0YS5jYXRlZ29yeUlkLFxuICAgIG5ld3NEYXRhLnN0YXR1cyxcbiAgICBuZXdzRGF0YS5pc0ZlYXR1cmVkID8gMSA6IDAsXG4gICAgaWRcbiAgXTtcbiAgXG4gIGludGVyZmFjZSBVcGRhdGVSZXN1bHQge1xuICAgIGFmZmVjdGVkUm93czogbnVtYmVyO1xuICAgIGNoYW5nZWRSb3dzOiBudW1iZXI7XG4gIH1cblxuICByZXR1cm4gZXhlY3V0ZVF1ZXJ5PFVwZGF0ZVJlc3VsdD4ocXVlcnksIHBhcmFtcyk7XG59XG5cbi8vIEhlbHBlciBmdW5jdGlvbiB0byBkZWxldGUgYSBuZXdzIGFydGljbGVcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVOZXdzKGlkOiBudW1iZXIpIHtcbiAgY29uc3QgcXVlcnkgPSAnREVMRVRFIEZST00gbmV3cyBXSEVSRSBpZCA9ID8nO1xuICBpbnRlcmZhY2UgRGVsZXRlUmVzdWx0IHtcbiAgICBhZmZlY3RlZFJvd3M6IG51bWJlcjtcbiAgfVxuXG4gIHJldHVybiBleGVjdXRlUXVlcnk8RGVsZXRlUmVzdWx0PihxdWVyeSwgW2lkXSk7XG59XG4iXSwibmFtZXMiOlsibXlzcWwiLCJkYkNvbmZpZyIsImhvc3QiLCJwcm9jZXNzIiwiZW52IiwiREJfSE9TVCIsInVzZXIiLCJEQl9VU0VSIiwicGFzc3dvcmQiLCJEQl9QQVNTV09SRCIsImRhdGFiYXNlIiwiREJfTkFNRSIsInBvb2wiLCJjcmVhdGVQb29sIiwiZXhlY3V0ZVF1ZXJ5IiwicXVlcnkiLCJwYXJhbXMiLCJyZXN1bHRzIiwiZXhlY3V0ZSIsImVycm9yIiwiY29uc29sZSIsImdldE5ld3NCeVNsdWciLCJzbHVnIiwibGVuZ3RoIiwiZ2V0QWxsTmV3cyIsImxpbWl0Iiwib2Zmc2V0IiwiY2F0ZWdvcnlJZCIsInB1c2giLCJnZXRGZWF0dXJlZE5ld3MiLCJnZXRBbGxDYXRlZ29yaWVzIiwiY3JlYXRlTmV3cyIsIm5ld3NEYXRhIiwidGl0bGUiLCJjb250ZW50IiwiZXhjZXJwdCIsImltYWdlVXJsIiwiYXV0aG9ySWQiLCJzdGF0dXMiLCJpc0ZlYXR1cmVkIiwicmVzdWx0IiwiaW5zZXJ0SWQiLCJ1cGRhdGVOZXdzIiwiaWQiLCJkZWxldGVOZXdzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(api)/./utils/db.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fauth%2F%5B...nextauth%5D&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cauth%5C%5B...nextauth%5D.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();